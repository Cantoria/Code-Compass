# Fetch Other Websites Account via Git Account


## Usage:<br>
**1** Find the information of github developers who committed to a certain project.<br>
**2** Find the information of github developers in a login list.<br>
`Input`: The name of a github repo or a list of github developers' name.<br>
`Output`: A json file including github users’ name, login, location, language, tags, email.<br><br>
**3** Find github developers’ Stack Overflow account. **(Identity Linkage)**  <br>
`Input`: A json file including github user's name, login, location, language and tags.<br>
`Output`: A json file including the input information and the corresponding Stack Overflow account and possible ids.<br><br>

## Script Description<br>
* `get_info_git.py` dumps the Github developers' name, login, company, location, e-mail, language and topics. <br>
* `get_info_stackoverflow.py` dumps the Stack Overflow developers' display name, location, tags, github associated account and possible user id for identity linkage.<br>
* `name_form.py` lists the possible Stack Overflow display name for a Github developer.<br>
* `syn_tags.py` gets the synonymous tags for comparsion of tags between github and Stach Overflow users. <br>
* Run the script `main.py` according to the following instructions:<br><br>
```
--lt  : python main.py --lt [input file] [output file]
        Dump the info of developers in the input name list

--cm  : python main.py --cm 'repo name'('sindresorhus/awesome') [output file]
        Dump the developers' info in the commit history of input repo

--mp  : python main.py --mp [file]
        Mapping between developers on github and Stack Overflow, but the info should be dumped first
```

## Get the Information of Github Developers
Using `get_info_git.py` to dump the developers' name, login, company, location, e-mail, languages and topics using github API.

![Image](https://github.com/AlvinZSJ/codeTracker/blob/master/get_info.png)

The arrow means getting the info through API.
## Mapping between Github and Stack Overflow Account
### 1. Get Possible Usernames<br>
It is easy to get the info of developers in the github commit history using github API. However, it's complicated to get the corresponding info of the same user on Stack Overflow since the info for mapping is limited. Only the username, location, language and tags of a developer can be obtained, which means we should list different possible usernames for each github user. <br>
![Image](https://github.com/AlvinZSJ/histo/blob/master/name_form.png)
The username Generation splits the input name or login of github user into several parts and recombines them.<br><br>
For name which is 1 word long, like "Kazhnuz", the possible name forms are:<br>
`Kaz, Kazhnuz, nuz(the last three letters)` <br>
The reason for this generating method is that the Stack Overflow API for the query of user info returns **all users whose name contains the input username**. That means, for name "nuz", it returns a list: Nuz, nuzar, Nuzair, nuzahat... So for the uername that is 1 word long, we can simply split it into several words.<br><br>
For name which is 2 words long, like "Sindre Sorhus", the possible usernames are: <br>
`Sindre Sorhus, sindresorhus, sorhus, sindre` <br>
which are generated by different combination of the First and Last name.<br><br>
For name which is 3 words long (few cases are like that), like "Victor Laerte Oliveira", the possible usernames are: <br>
`laerte, oliveira, victor` <br>
Simply split the name into three parts can also get a lot of different possible usernames because the Stack Overflow API returns all users whose name contains the input name. 

### 2. Find associated account of Github
Fortunately, the associated github account has been found in the Stack Overflow users' profile, which, however, is not accessible through Stack Overflow API but can be extracted from the source code of the users' profile page, of which the url is something like:<br><br>
https://stackoverflow.com/users/user_id<br><br>
That is to say, we can get the github account using user_id. For possible usernames of developers on Stack Overflow, the user_id can be obtained through API. And then the github account can be extracted from the source code of the web page using Regular Expression.<br><br>
However, few users have been found to provide their github account on their profile page, which makes the mapping between developers on github and stack overflow hard to finish. (For **71** github developers in the commit history of [awesome](https://github.com/sindresorhus/awesome), **33.8% (24)** developers are found provided github account on their Stack overflow profile)

### 3. Find Possible Github Accounts through Tags Comparison<br>
For the github users whose account are not provided on their Stack Overflow profile, their location and behavior features can be used for mapping. And for the location and tags commparsion, the score is used to evaluate the similarity between the github and Stack Overflow users.
* #### Location Comparison<br>
Considering the name of a place can be presented as different forms, like `Lagos, Nigeria`, which can be written as `Lagos, lagos, Nigeria, and Federal Republic of Nigeria...` So if the string of github users’ location is contained in that of a possible Stack Overflow account, or the opposite, location score is 1, otherwise, the normalized [Levenstein distance](https://github.com/AlvinZSJ/python-Levenshtein) is used to evaluate the location similarity.
* #### Behavior Features Comparison<br>
The developers behavior features can be exhibited by the languages they use and the topics of their repositories on github, and the tags of questions they asked and answered on Stack Overflow. However, according to paper [_Mining Developer Behavior Across GitHub and StackOverflow_](https://www.researchgate.net/publication/319052899_Mining_Developer_Behavior_Across_GitHub_and_StackOverflow), there are 21300 tags which are marked by users themselves on Stack Overflow, and 57 topics and languages marked by the system automatically on Github. Therefore, it’s necessary to find the synonymous tags between the two communities.<br><br>
There is a Stack overflow API which returns the synonymous tags of the input tag. To find the linkage of tags on both communities, the languages and topics of a github developer is set as input, then we can get the list of synonymous Stack Overflow tags, like: <br>
![Image](https://github.com/AlvinZSJ/histo/blob/master/syn_list.png)
Although the Stack overflow API can be applied to find the synonymous tags of a certain tag, there are big differences between the name patterns of tags on the two communities, which makes the synonymous tag list incomplete. <br><br>
For the comparison of tags, the tag score is used. By finding the number of tags which are related according to the synonymous tags list, the tags_score can be obtained by the ratio of matched_count to total_count, where the total_count is the number of github users' tags.
* #### Threshold<br>
The incomplete synonymous tag list and the different naming pattern of tags makes the matching of tags difficult. So there should be different weights of the two scores. The final score is the sum of the location score and twice of the tags score, and an appropriate threshold should be set to improve the matching rate.<br><br>
Considering that there are developers who use the same username and location on both communities, but few tags are matched. The threshold has been set as 0.7, 1.0 and 1.5.<br><br>
Still use the developers in commit history of [awesome](https://github.com/sindresorhus/awesome):<br> 
For threshold 0.7, the matching rate is 81.43% (57/70);<br>
For threshold 1.0, the matching rate is 71.43% (50/70); <br>
For threshold 1.5, the matching rate is 52.86% (37/70).<br><br>
For the developers selected by the threshold, their user id and score are recorded as "userid_score" in a list for further verification. The reason for not using the form "username_score" is that there are developers with same username but different user ids on Stack Overflow.

## Future Work
The next step is to find more synonymous tags, set an appropriate threshold and verify the linkage between the users matched by the score.


**Author: AlvinZSJ**
